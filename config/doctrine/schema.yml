CroAdminUsers:
  actAs: { Timestampable: ~ }
  columns:
    username: { type: string(255), notnull: true, unique: true }
    email: { type: string(255), notnull: true, unique: true }
    password: { type: string(32), notnull: true }
    fname: { type: string(255), notnull: true }
    lname: { type: string(255), notnull: true }
    address: { type: string(4000) }
    contact1: { type: string(255) }
    contact2: { type: string(255) }
    website: { type: string(255) }
    company_slogan: { type: string(255), notnull: true }
    company_logo: { type: string(255) }
    user_group: { type: integer, notnull: true }
    lastlogin: { type: timestamp, notnull: true }
    status: { type: boolean, notnull: true, default: 0 }
  relations:
    CroGroups: { local: user_group, foreign: id }

CroUsers:
  actAs: { Timestampable: ~ }
  columns:
    username: { type: string(255), notnull: true, unique: true }
    password: { type: string(32), notnull: true }
    fname: { type: string(255), notnull: true }
    lname: { type: string(255), notnull: true }
    minitial: { type: string(255) }
    email: { type: string(255), notnull: true, unique: true }
    phone: { type: string(255) }
    subscription: { type: string(255), notnull: true }
    status: { type: boolean, notnull: true, default: 0 }

CroGroups:
  actAs: { Timestampable: ~ }
  columns:
    name: { type: string(255), notnull: true, unique: true }

CroCourts:
  actAs: { Timestampable: ~ }
  columns:
    name: { type: string(255), notnull: true }
    status: { type: boolean, notnull: true, default: 0}
    indoor: { type: boolean, notnull: true, default: 0}
    lights: { type: boolean, notnull: true, default: 0}
    priorreservationhours: { type: integer, notnull: true }
    maxreservationhours: { type: integer, notnull: true }
    rate: { type: double, notnull: true }
    start_time: { type: timestamp, notnull: true }
    end_time: { type: timestamp, notnull: true }

CroReservations:
  actAs: { Timestampable: ~ }
  columns:
    title: { type: string(255), notnull: true }
    userid: { type: integer, notnull: true }
    courtid: { type: integer, notnull: true }
    start: { type: timestamp, notnull: true }
    end: { type: timestamp, notnull: true }
    status: { type: boolean, notnull: true, default: 0 }
    payment_status: { type: string(255), notnull: true, default: 0 }
  relations:
    CroUsers: { local: userid, foreign: id }
    CroCourts: { local: courtid, foreign: id }

CroPayments:
  actAs: { Timestampable: ~ }
  columns:
    reservationid: { type: integer, notnull: true }
    rate: { type: double, notnull: true }
    payment_date: { type: date, notnull: true }
    payment_type: { type: string(255), notnull: true }
  relations:
    CroReservations: { onDelete: CASCADE, local: reservationid, foreign: id }